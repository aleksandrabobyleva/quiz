<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <title>Баллы</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class="board">
        <div class="paper">
            <table id="scoreTable">
                <thead>
                    <tr>
                        <th>Team</th>
                        <th>Case №1</th>
                        <th>Case №2</th>
                        <th>Cipher</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td contenteditable="true">Team 1</td>
                        <td contenteditable="true">0</td>
                        <td contenteditable="true">0</td>
                        <td contenteditable="true">0</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td contenteditable="true">Team 2</td>
                        <td contenteditable="true">0</td>
                        <td contenteditable="true">0</td>
                        <td contenteditable="true">0</td>
                        <td>0</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Обработчик пересчёта Total при изменении ячеек
        const rows = document.querySelectorAll("#scoreTable tbody tr");
        rows.forEach(row => {
            // Получаем все редактируемые ячейки кроме Total (последней)
            const editableCells = Array.from(row.querySelectorAll("td[contenteditable='true']"));

            editableCells.forEach(cell => {
                cell.addEventListener("input", () => {
                    // Считаем сумму по case1, case2, cipher
                    // Название команды — первая ячейка, числа — со 2-й по 4-ю
                    let sum = 0;
                    for (let i = 1; i <= 3; i++) {
                        const val = Number(row.cells[i].innerText.trim());
                        sum += isNaN(val) ? 0 : val;
                    }
                    row.cells[4].innerText = sum;
                });
            });
        });
    </script>
</body>

</html>